{"version":3,"file":"registerOverlayArrow.cjs.js","sources":["../src/registerOverlayArrow.tsx"],"sourcesContent":["import React from \"react\";\nimport type {\n  OverlayArrowProps,\n  OverlayArrowRenderProps,\n} from \"react-aria-components\";\nimport {\n  OverlayArrow,\n  PopoverContext,\n  TooltipContext,\n} from \"react-aria-components\";\nimport { arrowDown, COMMON_STYLES } from \"./common\";\nimport {\n  CodeComponentMetaOverrides,\n  makeComponentName,\n  Registerable,\n  registerComponentHelper,\n} from \"./utils\";\nimport { pickAriaComponentVariants, WithVariants } from \"./variant-utils\";\n\nconst OVERLAY_ARROW_VARIANTS = [\n  // We do not offer a placementDown variant, because that's the default placement (an overlay arrow always has [data-placement=bottom] if it's not explicitly set)\n  \"placementTop\" as const,\n  \"placementLeft\" as const,\n  \"placementRight\" as const,\n];\n\nexport interface BaseOverlayArrowProps\n  extends OverlayArrowProps,\n    WithVariants<typeof OVERLAY_ARROW_VARIANTS> {\n  children: React.ReactNode;\n}\n\nconst { variants, withObservedValues } = pickAriaComponentVariants(\n  OVERLAY_ARROW_VARIANTS\n);\n\nexport function BaseOverlayArrow({\n  children,\n  plasmicUpdateVariant,\n  className,\n}: BaseOverlayArrowProps) {\n  const popoverContext = React.useContext(PopoverContext);\n  const tooltipContext = React.useContext(TooltipContext);\n  const isStandalone = !popoverContext && !tooltipContext; // i.e. without a trigger to point to\n  const overlayArrow = (\n    <OverlayArrow\n      style={{ lineHeight: \"0\", ...COMMON_STYLES }}\n      className={className}\n    >\n      {({ placement }: OverlayArrowRenderProps) =>\n        withObservedValues(\n          children,\n          {\n            placementTop: placement === \"top\",\n            placementLeft: placement === \"left\",\n            placementRight: placement === \"right\",\n          },\n          plasmicUpdateVariant\n        )\n      }\n    </OverlayArrow>\n  );\n  if (isStandalone) {\n    return <div style={{ position: \"relative\" }}>{overlayArrow}</div>;\n  }\n  return overlayArrow;\n}\n\nexport const OVERLAY_ARROW_COMPONENT_NAME = makeComponentName(\"overlayArrow\");\n\nexport function registerOverlayArrow(\n  loader?: Registerable,\n  overrides?: CodeComponentMetaOverrides<typeof BaseOverlayArrow>\n) {\n  return registerComponentHelper(\n    loader,\n    BaseOverlayArrow,\n    {\n      name: OVERLAY_ARROW_COMPONENT_NAME,\n      displayName: \"Aria Overlay Arrow\",\n      importPath: \"@plasmicpkgs/react-aria/skinny/registerOverlayArrow\",\n      importName: \"BaseOverlayArrow\",\n      styleSections: false,\n      variants,\n      props: {\n        children: {\n          type: \"slot\",\n          defaultValue: arrowDown,\n        },\n      },\n    },\n    overrides\n  );\n}\n"],"names":["pickAriaComponentVariants","React","PopoverContext","TooltipContext","OverlayArrow","COMMON_STYLES","makeComponentName","registerComponentHelper","arrowDown"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,MAAM,sBAAyB,GAAA;AAAA;AAAA,EAE7B,cAAA;AAAA,EACA,eAAA;AAAA,EACA,gBAAA;AACF,CAAA,CAAA;AAQA,MAAM,EAAE,QAAU,EAAA,kBAAA,EAAuB,GAAAA,sCAAA;AAAA,EACvC,sBAAA;AACF,CAAA,CAAA;AAEO,SAAS,gBAAiB,CAAA;AAAA,EAC/B,QAAA;AAAA,EACA,oBAAA;AAAA,EACA,SAAA;AACF,CAA0B,EAAA;AACxB,EAAM,MAAA,cAAA,GAAiBC,sBAAM,CAAA,UAAA,CAAWC,kCAAc,CAAA,CAAA;AACtD,EAAM,MAAA,cAAA,GAAiBD,sBAAM,CAAA,UAAA,CAAWE,kCAAc,CAAA,CAAA;AACtD,EAAM,MAAA,YAAA,GAAe,CAAC,cAAA,IAAkB,CAAC,cAAA,CAAA;AACzC,EAAA,MAAM,YACJ,mBAAAF,sBAAA,CAAA,aAAA;AAAA,IAACG,gCAAA;AAAA,IAAA;AAAA,MACC,KAAA,EAAO,cAAE,CAAA,EAAA,UAAA,EAAY,GAAQ,EAAA,EAAAC,oBAAA,CAAA;AAAA,MAC7B,SAAA;AAAA,KAAA;AAAA,IAEC,CAAC,EAAE,SAAA,EACF,KAAA,kBAAA;AAAA,MACE,QAAA;AAAA,MACA;AAAA,QACE,cAAc,SAAc,KAAA,KAAA;AAAA,QAC5B,eAAe,SAAc,KAAA,MAAA;AAAA,QAC7B,gBAAgB,SAAc,KAAA,OAAA;AAAA,OAChC;AAAA,MACA,oBAAA;AAAA,KACF;AAAA,GAEJ,CAAA;AAEF,EAAA,IAAI,YAAc,EAAA;AAChB,IAAA,4DAAQ,KAAI,EAAA,EAAA,KAAA,EAAO,EAAE,QAAU,EAAA,UAAA,MAAe,YAAa,CAAA,CAAA;AAAA,GAC7D;AACA,EAAO,OAAA,YAAA,CAAA;AACT,CAAA;AAEa,MAAA,4BAAA,GAA+BC,wBAAkB,cAAc,EAAA;AAE5D,SAAA,oBAAA,CACd,QACA,SACA,EAAA;AACA,EAAO,OAAAC,6BAAA;AAAA,IACL,MAAA;AAAA,IACA,gBAAA;AAAA,IACA;AAAA,MACE,IAAM,EAAA,4BAAA;AAAA,MACN,WAAa,EAAA,oBAAA;AAAA,MACb,UAAY,EAAA,qDAAA;AAAA,MACZ,UAAY,EAAA,kBAAA;AAAA,MACZ,aAAe,EAAA,KAAA;AAAA,MACf,QAAA;AAAA,MACA,KAAO,EAAA;AAAA,QACL,QAAU,EAAA;AAAA,UACR,IAAM,EAAA,MAAA;AAAA,UACN,YAAc,EAAAC,gBAAA;AAAA,SAChB;AAAA,OACF;AAAA,KACF;AAAA,IACA,SAAA;AAAA,GACF,CAAA;AACF;;;;;;"}