{"version":3,"file":"registerRadioGroup.esm.js","sources":["../src/registerRadioGroup.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport type { RadioGroupProps } from \"react-aria-components\";\nimport { RadioGroup } from \"react-aria-components\";\nimport { COMMON_STYLES, getCommonProps } from \"./common\";\nimport { PlasmicRadioGroupContext } from \"./contexts\";\nimport { OptionsItemIdManager } from \"./OptionsItemIdManager\";\nimport { DESCRIPTION_COMPONENT_NAME } from \"./registerDescription\";\nimport { LABEL_COMPONENT_NAME } from \"./registerLabel\";\nimport { makeDefaultRadioChildren, registerRadio } from \"./registerRadio\";\nimport {\n  CodeComponentMetaOverrides,\n  HasControlContextData,\n  Registerable,\n  makeChildComponentName,\n  makeComponentName,\n  registerComponentHelper,\n} from \"./utils\";\nimport { WithVariants, pickAriaComponentVariants } from \"./variant-utils\";\n\nexport interface BaseRadioGroupControlContextData {\n  values: string[];\n}\n\nconst RADIO_GROUP_VARIANTS = [\"disabled\" as const, \"readonly\" as const];\n\nexport interface BaseRadioGroupProps\n  extends RadioGroupProps,\n    HasControlContextData<BaseRadioGroupControlContextData>,\n    WithVariants<typeof RADIO_GROUP_VARIANTS> {\n  children: React.ReactNode;\n}\n\nconst { variants, withObservedValues } =\n  pickAriaComponentVariants(RADIO_GROUP_VARIANTS);\n\nexport function BaseRadioGroup(props: BaseRadioGroupProps) {\n  const { children, plasmicUpdateVariant, setControlContextData, ...rest } =\n    props;\n\n  const [ids, setIds] = useState<string[]>([]);\n  const idManager = useMemo(() => new OptionsItemIdManager(), []);\n\n  useEffect(() => {\n    setControlContextData?.({\n      values: ids,\n    });\n  }, [ids, setControlContextData]);\n\n  useEffect(() => {\n    idManager.subscribe((_ids: string[]) => {\n      setIds(_ids);\n    });\n  }, [idManager]);\n\n  return (\n    <PlasmicRadioGroupContext.Provider value={{ ...props, idManager }}>\n      <RadioGroup {...rest} style={COMMON_STYLES}>\n        {({ isDisabled, isReadOnly }) =>\n          withObservedValues(\n            children,\n            {\n              disabled: isDisabled,\n              readonly: isReadOnly,\n            },\n            plasmicUpdateVariant\n          )\n        }\n      </RadioGroup>\n    </PlasmicRadioGroupContext.Provider>\n  );\n}\n\nconst RADIO_GROUP_COMPONENT_NAME = makeComponentName(\"radioGroup\");\n\nexport function registerRadioGroup(\n  loader?: Registerable,\n  overrides?: CodeComponentMetaOverrides<typeof BaseRadioGroup>\n) {\n  const thisName = makeChildComponentName(\n    overrides?.parentComponentName,\n    RADIO_GROUP_COMPONENT_NAME\n  );\n\n  const radioMeta = registerRadio(loader, { parentComponentName: thisName });\n\n  registerComponentHelper(\n    loader,\n    BaseRadioGroup,\n    {\n      name: RADIO_GROUP_COMPONENT_NAME,\n      displayName: \"Aria RadioGroup\",\n      importPath: \"@plasmicpkgs/react-aria/skinny/registerRadioGroup\",\n      importName: \"BaseRadioGroup\",\n      variants,\n      props: {\n        ...getCommonProps<BaseRadioGroupProps>(\"radio group\", [\n          \"name\",\n          \"isDisabled\",\n          \"isReadOnly\",\n          \"aria-label\",\n          \"isRequired\",\n        ]),\n        children: {\n          type: \"slot\",\n          defaultValue: [\n            {\n              type: \"vbox\",\n              styles: {\n                display: \"flex\",\n                gap: \"5px\",\n                padding: 0,\n                alignItems: \"flex-start\",\n              },\n              children: [\n                {\n                  type: \"component\",\n                  name: LABEL_COMPONENT_NAME,\n                  props: {\n                    children: {\n                      type: \"text\",\n                      value: \"Radio Group\",\n                    },\n                  },\n                },\n                {\n                  type: \"component\",\n                  name: radioMeta.name,\n                  props: {\n                    children: makeDefaultRadioChildren(\"Radio 1\"),\n                    value: \"radio1\",\n                  },\n                },\n                {\n                  type: \"component\",\n                  name: radioMeta.name,\n                  props: {\n                    children: makeDefaultRadioChildren(\"Radio 2\"),\n                    value: \"radio2\",\n                  },\n                },\n                {\n                  type: \"component\",\n                  name: radioMeta.name,\n                  props: {\n                    children: makeDefaultRadioChildren(\"Radio 3\"),\n                    value: \"radio3\",\n                  },\n                },\n                {\n                  type: \"component\",\n                  name: DESCRIPTION_COMPONENT_NAME,\n                  props: {\n                    children: {\n                      type: \"text\",\n                      value:\n                        \"Use the registered variants to see it in action...\",\n                    },\n                  },\n                },\n              ],\n            },\n          ],\n        },\n        value: {\n          type: \"choice\",\n          editOnly: true,\n          displayName: \"Initial value\",\n          uncontrolledProp: \"defaultValue\",\n          description: \"The current value\",\n          options: (_props, ctx) => (ctx?.values ? Array.from(ctx.values) : []),\n          multiSelect: false,\n        },\n        isInvalid: {\n          displayName: \"Invalid\",\n          type: \"boolean\",\n          description: \"Whether the input value is invalid\",\n          defaultValueHint: false,\n        },\n        validationBehavior: {\n          type: \"choice\",\n          options: [\"native\", \"aria\"],\n          description:\n            \"Whether to use native HTML form validation to prevent form submission when the value is missing or invalid, or mark the field as required or invalid via ARIA.\",\n          defaultValueHint: \"native\",\n        },\n        onChange: {\n          type: \"eventHandler\",\n          argTypes: [{ name: \"value\", type: \"string\" }],\n        },\n      },\n      states: {\n        value: {\n          type: \"writable\",\n          valueProp: \"value\",\n          onChangeProp: \"onChange\",\n          variableType: \"array\",\n        },\n      },\n      trapsFocus: true,\n    },\n    overrides\n  );\n}\n"],"names":[],"mappings":"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"}