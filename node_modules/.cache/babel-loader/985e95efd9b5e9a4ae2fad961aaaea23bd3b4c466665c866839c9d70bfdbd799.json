{"ast":null,"code":"import { ScrollView as $44a6ee657928b002$export$5665e3d6be6adea } from \"./ScrollView.mjs\";\nimport { VirtualizerItem as $ccf8a0a04e4175ae$export$6796df8ba7398521 } from \"./VirtualizerItem.mjs\";\nimport { useVirtualizerState as $9WwqA$useVirtualizerState } from \"@react-stately/virtualizer\";\nimport { useObjectRef as $9WwqA$useObjectRef, useLoadMore as $9WwqA$useLoadMore, mergeProps as $9WwqA$mergeProps } from \"@react-aria/utils\";\nimport $9WwqA$react, { useCallback as $9WwqA$useCallback } from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nconst $6d0a5c394373ae64$export$89be5a243e59c4b2 = /*#__PURE__*/(0, $9WwqA$react).forwardRef(function Virtualizer(props, forwardedRef) {\n  let {\n    children: renderView,\n    renderWrapper: renderWrapper,\n    layout: layout,\n    collection: collection,\n    scrollDirection: scrollDirection,\n    isLoading: isLoading,\n    onLoadMore: onLoadMore,\n    persistedKeys: persistedKeys,\n    layoutOptions: layoutOptions,\n    ...otherProps\n  } = props;\n  let ref = (0, $9WwqA$useObjectRef)(forwardedRef);\n  let state = (0, $9WwqA$useVirtualizerState)({\n    layout: layout,\n    collection: collection,\n    renderView: renderView,\n    onVisibleRectChange(rect) {\n      if (ref.current) {\n        ref.current.scrollLeft = rect.x;\n        ref.current.scrollTop = rect.y;\n      }\n    },\n    persistedKeys: persistedKeys,\n    layoutOptions: layoutOptions\n  });\n  (0, $9WwqA$useLoadMore)({\n    isLoading: isLoading,\n    onLoadMore: onLoadMore,\n    scrollOffset: 1\n  }, ref);\n  let onVisibleRectChange = (0, $9WwqA$useCallback)(rect => {\n    state.setVisibleRect(rect);\n  }, [state]);\n  return /*#__PURE__*/(0, $9WwqA$react).createElement((0, $44a6ee657928b002$export$5665e3d6be6adea), {\n    ...(0, $9WwqA$mergeProps)(otherProps, {\n      onVisibleRectChange: onVisibleRectChange\n    }),\n    ref: ref,\n    contentSize: state.contentSize,\n    onScrollStart: state.startScrolling,\n    onScrollEnd: state.endScrolling,\n    scrollDirection: scrollDirection\n  }, $6d0a5c394373ae64$var$renderChildren(null, state.visibleViews, renderWrapper || $6d0a5c394373ae64$var$defaultRenderWrapper));\n});\nfunction $6d0a5c394373ae64$var$renderChildren(parent, views, renderWrapper) {\n  return views.map(view => {\n    return renderWrapper(parent, view, view.children ? Array.from(view.children) : [], childViews => $6d0a5c394373ae64$var$renderChildren(view, childViews, renderWrapper));\n  });\n}\nfunction $6d0a5c394373ae64$var$defaultRenderWrapper(parent, reusableView) {\n  return /*#__PURE__*/(0, $9WwqA$react).createElement((0, $ccf8a0a04e4175ae$export$6796df8ba7398521), {\n    key: reusableView.key,\n    layoutInfo: reusableView.layoutInfo,\n    virtualizer: reusableView.virtualizer,\n    parent: parent === null || parent === void 0 ? void 0 : parent.layoutInfo\n  }, reusableView.rendered);\n}\nexport { $6d0a5c394373ae64$export$89be5a243e59c4b2 as Virtualizer };","map":{"version":3,"names":["$6d0a5c394373ae64$export$89be5a243e59c4b2","$9WwqA$react","forwardRef","Virtualizer","props","forwardedRef","children","renderView","renderWrapper","layout","collection","scrollDirection","isLoading","onLoadMore","persistedKeys","layoutOptions","otherProps","ref","$9WwqA$useObjectRef","state","$9WwqA$useVirtualizerState","onVisibleRectChange","rect","current","scrollLeft","x","scrollTop","y","$9WwqA$useLoadMore","scrollOffset","$9WwqA$useCallback","setVisibleRect","createElement","$44a6ee657928b002$export$5665e3d6be6adea","$9WwqA$mergeProps","contentSize","onScrollStart","startScrolling","onScrollEnd","endScrolling","$6d0a5c394373ae64$var$renderChildren","visibleViews","$6d0a5c394373ae64$var$defaultRenderWrapper","parent","views","map","view","Array","from","childViews","reusableView","$ccf8a0a04e4175ae$export$6796df8ba7398521","key","layoutInfo","virtualizer","rendered"],"sources":["C:\\Users\\rewac\\OneDrive\\Documents\\GitHub\\scatch-store.me\\node_modules\\@react-aria\\virtualizer\\dist\\packages\\@react-aria\\virtualizer\\src\\Virtualizer.tsx"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, Key, RefObject} from '@react-types/shared';\nimport {Layout, Rect, ReusableView, useVirtualizerState} from '@react-stately/virtualizer';\nimport {mergeProps, useLoadMore, useObjectRef} from '@react-aria/utils';\nimport React, {ForwardedRef, HTMLAttributes, ReactElement, ReactNode, useCallback} from 'react';\nimport {ScrollView} from './ScrollView';\nimport {VirtualizerItem} from './VirtualizerItem';\n\ntype RenderWrapper<T extends object, V> = (\n  parent: ReusableView<T, V> | null,\n  reusableView: ReusableView<T, V>,\n  children: ReusableView<T, V>[],\n  renderChildren: (views: ReusableView<T, V>[]) => ReactElement[]\n) => ReactElement | null;\n\ninterface VirtualizerProps<T extends object, V, O> extends Omit<HTMLAttributes<HTMLElement>, 'children'> {\n  children: (type: string, content: T) => V,\n  renderWrapper?: RenderWrapper<T, V>,\n  layout: Layout<T, O>,\n  collection: Collection<T>,\n  persistedKeys?: Set<Key> | null,\n  scrollDirection?: 'horizontal' | 'vertical' | 'both',\n  isLoading?: boolean,\n  onLoadMore?: () => void,\n  layoutOptions?: O\n}\n\n// forwardRef doesn't support generic parameters, so cast the result to the correct type\n// https://stackoverflow.com/questions/58469229/react-with-typescript-generics-while-using-react-forwardref\nexport const Virtualizer = React.forwardRef(function Virtualizer<T extends object, V extends ReactNode, O>(props: VirtualizerProps<T, V, O>, forwardedRef: ForwardedRef<HTMLDivElement | null>) {\n  let {\n    children: renderView,\n    renderWrapper,\n    layout,\n    collection,\n    scrollDirection,\n    isLoading,\n    onLoadMore,\n    persistedKeys,\n    layoutOptions,\n    ...otherProps\n  } = props;\n\n  let ref = useObjectRef(forwardedRef);\n\n  let state = useVirtualizerState({\n    layout,\n    collection,\n    renderView,\n    onVisibleRectChange(rect) {\n      if (ref.current) {\n        ref.current.scrollLeft = rect.x;\n        ref.current.scrollTop = rect.y;\n      }\n    },\n    persistedKeys,\n    layoutOptions\n  });\n\n  useLoadMore({isLoading, onLoadMore, scrollOffset: 1}, ref);\n  let onVisibleRectChange = useCallback((rect: Rect) => {\n    state.setVisibleRect(rect);\n  }, [state]);\n\n  return (\n    <ScrollView\n      {...mergeProps(otherProps, {onVisibleRectChange})}\n      ref={ref}\n      contentSize={state.contentSize}\n      onScrollStart={state.startScrolling}\n      onScrollEnd={state.endScrolling}\n      scrollDirection={scrollDirection}>\n      {renderChildren(null, state.visibleViews, renderWrapper || defaultRenderWrapper)}\n    </ScrollView>\n  );\n}) as <T extends object, V, O>(props: VirtualizerProps<T, V, O> & {ref?: RefObject<HTMLDivElement | null>}) => ReactElement;\n\nfunction renderChildren<T extends object, V>(parent: ReusableView<T, V> | null, views: ReusableView<T, V>[], renderWrapper: RenderWrapper<T, V>) {\n  return views.map(view => {\n    return renderWrapper(\n      parent,\n      view,\n      view.children ? Array.from(view.children) : [],\n      childViews => renderChildren(view, childViews, renderWrapper)\n    );\n  });\n}\n\nfunction defaultRenderWrapper<T extends object, V extends ReactNode>(\n  parent: ReusableView<T, V> | null,\n  reusableView: ReusableView<T, V>\n) {\n  return (\n    <VirtualizerItem\n      key={reusableView.key}\n      layoutInfo={reusableView.layoutInfo!}\n      virtualizer={reusableView.virtualizer}\n      parent={parent?.layoutInfo}>\n      {reusableView.rendered}\n    </VirtualizerItem>\n  );\n}\n"],"mappings":";;;;;;AAAA;;;;;;;;;;;;AAwCO,MAAMA,yCAAA,gBAAc,IAAAC,YAAI,EAAEC,UAAU,CAAC,SAASC,YAAsDC,KAAgC,EAAEC,YAAiD;EAC5L,IAAI;IACFC,QAAA,EAAUC,UAAU;IAAAC,aAAA,EACpBA,aAAa;IAAAC,MAAA,EACbA,MAAM;IAAAC,UAAA,EACNA,UAAU;IAAAC,eAAA,EACVA,eAAe;IAAAC,SAAA,EACfA,SAAS;IAAAC,UAAA,EACTA,UAAU;IAAAC,aAAA,EACVA,aAAa;IAAAC,aAAA,EACbA,aAAa;IACb,GAAGC;EAAA,CACJ,GAAGZ,KAAA;EAEJ,IAAIa,GAAA,GAAM,IAAAC,mBAAW,EAAEb,YAAA;EAEvB,IAAIc,KAAA,GAAQ,IAAAC,0BAAkB,EAAE;YAC9BX,MAAA;gBACAC,UAAA;gBACAH,UAAA;IACAc,oBAAoBC,IAAI;MACtB,IAAIL,GAAA,CAAIM,OAAO,EAAE;QACfN,GAAA,CAAIM,OAAO,CAACC,UAAU,GAAGF,IAAA,CAAKG,CAAC;QAC/BR,GAAA,CAAIM,OAAO,CAACG,SAAS,GAAGJ,IAAA,CAAKK,CAAC;MAChC;IACF;mBACAb,aAAA;mBACAC;EACF;EAEA,IAAAa,kBAAU,EAAE;eAAChB,SAAA;gBAAWC,UAAA;IAAYgB,YAAA,EAAc;EAAC,GAAGZ,GAAA;EACtD,IAAII,mBAAA,GAAsB,IAAAS,kBAAU,EAAGR,IAAA;IACrCH,KAAA,CAAMY,cAAc,CAACT,IAAA;EACvB,GAAG,CAACH,KAAA,CAAM;EAEV,oBACE,IAAAlB,YAAA,EAAA+B,aAAA,EAAC,GAAAC,wCAAS;IACP,GAAG,IAAAC,iBAAS,EAAElB,UAAA,EAAY;2BAACK;IAAmB,EAAE;IACjDJ,GAAA,EAAKA,GAAA;IACLkB,WAAA,EAAahB,KAAA,CAAMgB,WAAW;IAC9BC,aAAA,EAAejB,KAAA,CAAMkB,cAAc;IACnCC,WAAA,EAAanB,KAAA,CAAMoB,YAAY;IAC/B5B,eAAA,EAAiBA;KAChB6B,oCAAA,CAAe,MAAMrB,KAAA,CAAMsB,YAAY,EAAEjC,aAAA,IAAiBkC,0CAAA;AAGjE;AAEA,SAASF,qCAAoCG,MAAiC,EAAEC,KAA2B,EAAEpC,aAAkC;EAC7I,OAAOoC,KAAA,CAAMC,GAAG,CAACC,IAAA;IACf,OAAOtC,aAAA,CACLmC,MAAA,EACAG,IAAA,EACAA,IAAA,CAAKxC,QAAQ,GAAGyC,KAAA,CAAMC,IAAI,CAACF,IAAA,CAAKxC,QAAQ,IAAI,EAAE,EAC9C2C,UAAA,IAAcT,oCAAA,CAAeM,IAAA,EAAMG,UAAA,EAAYzC,aAAA;EAEnD;AACF;AAEA,SAASkC,2CACPC,MAAiC,EACjCO,YAAgC;EAEhC,oBACE,IAAAjD,YAAA,EAAA+B,aAAA,EAAC,GAAAmB,yCAAc;IACbC,GAAA,EAAKF,YAAA,CAAaE,GAAG;IACrBC,UAAA,EAAYH,YAAA,CAAaG,UAAU;IACnCC,WAAA,EAAaJ,YAAA,CAAaI,WAAW;IACrCX,MAAM,EAAEA,MAAA,aAAAA,MAAA,uBAAAA,MAAA,CAAQU;KACfH,YAAA,CAAaK,QAAQ;AAG5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}