{"ast":null,"code":"import _objectSpread from \"C:/Users/rewac/OneDrive/Documents/GitHub/scatch-store.me/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { calculateColumnSizes as $6818b1c4fc67028d$export$55d50dc687385491, getMaxWidth as $6818b1c4fc67028d$export$59185c62a7544aa0, getMinWidth as $6818b1c4fc67028d$export$f556054ce4358701 } from \"./TableUtils.mjs\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nclass $a9e7ae544a4e41dd$export$7ff77a162970b30e {\n  /** Takes an array of columns and splits it into 2 maps of columns with controlled and columns with uncontrolled widths. */splitColumnsIntoControlledAndUncontrolled(columns) {\n    return columns.reduce((acc, col) => {\n      if (col.props.width != null) acc[0].set(col.key, col);else acc[1].set(col.key, col);\n      return acc;\n    }, [new Map(), new Map()]);\n  }\n  /** Takes uncontrolled and controlled widths and joins them into a single Map. */\n  recombineColumns(columns, uncontrolledWidths, uncontrolledColumns, controlledColumns) {\n    return new Map(columns.map(col => {\n      if (uncontrolledColumns.has(col.key)) return [col.key, uncontrolledWidths.get(col.key)];else return [col.key, controlledColumns.get(col.key).props.width];\n    }));\n  }\n  /** Used to make an initial Map of the uncontrolled widths based on default widths. */\n  getInitialUncontrolledWidths(uncontrolledColumns) {\n    return new Map(Array.from(uncontrolledColumns).map(_ref2 => {\n      let [key, col] = _ref2;\n      var _this_getDefaultWidth, _this;\n      var _col_props_defaultWidth, _ref;\n      return [key, (_ref = (_col_props_defaultWidth = col.props.defaultWidth) !== null && _col_props_defaultWidth !== void 0 ? _col_props_defaultWidth : (_this_getDefaultWidth = (_this = this).getDefaultWidth) === null || _this_getDefaultWidth === void 0 ? void 0 : _this_getDefaultWidth.call(_this, col)) !== null && _ref !== void 0 ? _ref : '1fr'];\n    }));\n  }\n  getColumnWidth(key) {\n    var _this_columnWidths_get;\n    return (_this_columnWidths_get = this.columnWidths.get(key)) !== null && _this_columnWidths_get !== void 0 ? _this_columnWidths_get : 0;\n  }\n  getColumnMinWidth(key) {\n    var _this_columnMinWidths_get;\n    return (_this_columnMinWidths_get = this.columnMinWidths.get(key)) !== null && _this_columnMinWidths_get !== void 0 ? _this_columnMinWidths_get : 0;\n  }\n  getColumnMaxWidth(key) {\n    var _this_columnMaxWidths_get;\n    return (_this_columnMaxWidths_get = this.columnMaxWidths.get(key)) !== null && _this_columnMaxWidths_get !== void 0 ? _this_columnMaxWidths_get : 0;\n  }\n  resizeColumnWidth(collection, uncontrolledWidths, col, width) {\n    let prevColumnWidths = this.columnWidths;\n    let freeze = true;\n    let newWidths = new Map();\n    width = Math.max(this.getColumnMinWidth(col), Math.min(this.getColumnMaxWidth(col), Math.floor(width)));\n    collection.columns.forEach(column => {\n      var _prevColumnWidths_get, _column_props_width;\n      if (column.key === col) {\n        newWidths.set(column.key, width);\n        freeze = false;\n      } else if (freeze)\n        // freeze columns to the left to their previous pixel value\n        newWidths.set(column.key, (_prevColumnWidths_get = prevColumnWidths.get(column.key)) !== null && _prevColumnWidths_get !== void 0 ? _prevColumnWidths_get : 0);else newWidths.set(column.key, (_column_props_width = column.props.width) !== null && _column_props_width !== void 0 ? _column_props_width : uncontrolledWidths.get(column.key));\n    });\n    return newWidths;\n  }\n  buildColumnWidths(tableWidth, collection, widths) {\n    this.columnWidths = new Map();\n    this.columnMinWidths = new Map();\n    this.columnMaxWidths = new Map();\n    // initial layout or table/window resizing\n    let columnWidths = (0, $6818b1c4fc67028d$export$55d50dc687385491)(tableWidth, collection.columns.map(col => _objectSpread(_objectSpread({}, col.props), {}, {\n      key: col.key\n    })), widths, i => this.getDefaultWidth(collection.columns[i]), i => this.getDefaultMinWidth(collection.columns[i]));\n    // columns going in will be the same order as the columns coming out\n    columnWidths.forEach((width, index) => {\n      let key = collection.columns[index].key;\n      let column = collection.columns[index];\n      this.columnWidths.set(key, width);\n      var _column_props_minWidth;\n      this.columnMinWidths.set(key, (0, $6818b1c4fc67028d$export$f556054ce4358701)((_column_props_minWidth = column.props.minWidth) !== null && _column_props_minWidth !== void 0 ? _column_props_minWidth : this.getDefaultMinWidth(column), tableWidth));\n      this.columnMaxWidths.set(key, (0, $6818b1c4fc67028d$export$59185c62a7544aa0)(column.props.maxWidth, tableWidth));\n    });\n    return this.columnWidths;\n  }\n  constructor(options) {\n    this.columnWidths = new Map();\n    this.columnMinWidths = new Map();\n    this.columnMaxWidths = new Map();\n    var _options_getDefaultWidth;\n    this.getDefaultWidth = (_options_getDefaultWidth = options === null || options === void 0 ? void 0 : options.getDefaultWidth) !== null && _options_getDefaultWidth !== void 0 ? _options_getDefaultWidth : () => '1fr';\n    var _options_getDefaultMinWidth;\n    this.getDefaultMinWidth = (_options_getDefaultMinWidth = options === null || options === void 0 ? void 0 : options.getDefaultMinWidth) !== null && _options_getDefaultMinWidth !== void 0 ? _options_getDefaultMinWidth : () => 75;\n  }\n}\nexport { $a9e7ae544a4e41dd$export$7ff77a162970b30e as TableColumnLayout };","map":{"version":3,"names":["$a9e7ae544a4e41dd$export$7ff77a162970b30e","splitColumnsIntoControlledAndUncontrolled","columns","reduce","acc","col","props","width","set","key","Map","recombineColumns","uncontrolledWidths","uncontrolledColumns","controlledColumns","map","has","get","getInitialUncontrolledWidths","Array","from","_ref2","_this_getDefaultWidth","_this","_col_props_defaultWidth","_ref","defaultWidth","getDefaultWidth","call","getColumnWidth","_this_columnWidths_get","columnWidths","getColumnMinWidth","_this_columnMinWidths_get","columnMinWidths","getColumnMaxWidth","_this_columnMaxWidths_get","columnMaxWidths","resizeColumnWidth","collection","prevColumnWidths","freeze","newWidths","Math","max","min","floor","forEach","column","_prevColumnWidths_get","_column_props_width","buildColumnWidths","tableWidth","widths","$6818b1c4fc67028d$export$55d50dc687385491","_objectSpread","i","getDefaultMinWidth","index","_column_props_minWidth","$6818b1c4fc67028d$export$f556054ce4358701","minWidth","$6818b1c4fc67028d$export$59185c62a7544aa0","maxWidth","constructor","options","_options_getDefaultWidth","_options_getDefaultMinWidth"],"sources":["C:\\Users\\rewac\\OneDrive\\Documents\\GitHub\\scatch-store.me\\node_modules\\@react-stately\\table\\dist\\packages\\@react-stately\\table\\src\\TableColumnLayout.ts"],"sourcesContent":["/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n  calculateColumnSizes,\n  getMaxWidth,\n  getMinWidth\n} from './TableUtils';\nimport {ColumnSize, TableCollection} from '@react-types/table';\nimport {GridNode} from '@react-types/grid';\nimport {Key} from '@react-types/shared';\n\nexport interface TableColumnLayoutOptions<T> {\n  getDefaultWidth?: (column: GridNode<T>) => ColumnSize | null | undefined,\n  getDefaultMinWidth?: (column: GridNode<T>) => ColumnSize | null | undefined\n}\n\nexport class TableColumnLayout<T> {\n  getDefaultWidth: (column: GridNode<T>) => ColumnSize | null | undefined;\n  getDefaultMinWidth: (column: GridNode<T>) => ColumnSize | null | undefined;\n  columnWidths: Map<Key, number> = new Map();\n  columnMinWidths: Map<Key, number> = new Map();\n  columnMaxWidths: Map<Key, number> = new Map();\n\n  constructor(options: TableColumnLayoutOptions<T>) {\n    this.getDefaultWidth = options?.getDefaultWidth ?? (() => '1fr');\n    this.getDefaultMinWidth = options?.getDefaultMinWidth ?? (() => 75);\n  }\n\n  /** Takes an array of columns and splits it into 2 maps of columns with controlled and columns with uncontrolled widths. */\n  splitColumnsIntoControlledAndUncontrolled(columns: Array<GridNode<T>>): [Map<Key, GridNode<T>>, Map<Key, GridNode<T>>] {\n    return columns.reduce((acc, col) => {\n      if (col.props.width != null) {\n        acc[0].set(col.key, col);\n      } else {\n        acc[1].set(col.key, col);\n      }\n      return acc;\n    }, [new Map(), new Map()]);\n  }\n\n  /** Takes uncontrolled and controlled widths and joins them into a single Map. */\n  recombineColumns(columns: Array<GridNode<T>>, uncontrolledWidths: Map<Key, ColumnSize>, uncontrolledColumns: Map<Key, GridNode<T>>, controlledColumns: Map<Key, GridNode<T>>): Map<Key, ColumnSize> {\n    return new Map(columns.map(col => {\n      if (uncontrolledColumns.has(col.key)) {\n        return [col.key, uncontrolledWidths.get(col.key)];\n      } else {\n        return [col.key, controlledColumns.get(col.key)!.props.width];\n      }\n    }));\n  }\n\n  /** Used to make an initial Map of the uncontrolled widths based on default widths. */\n  getInitialUncontrolledWidths(uncontrolledColumns: Map<Key, GridNode<T>>): Map<Key, ColumnSize> {\n    return new Map(Array.from(uncontrolledColumns).map(([key, col]) =>\n      [key, col.props.defaultWidth ?? this.getDefaultWidth?.(col) ?? '1fr']\n    ));\n  }\n\n  getColumnWidth(key: Key): number {\n    return this.columnWidths.get(key) ?? 0;\n  }\n\n  getColumnMinWidth(key: Key): number {\n    return this.columnMinWidths.get(key) ?? 0;\n  }\n\n  getColumnMaxWidth(key: Key): number {\n    return this.columnMaxWidths.get(key) ?? 0;\n  }\n\n  resizeColumnWidth(collection: TableCollection<T>, uncontrolledWidths: Map<Key, ColumnSize>, col: Key, width: number): Map<Key, ColumnSize> {\n    let prevColumnWidths = this.columnWidths;\n    let freeze = true;\n    let newWidths = new Map<Key, ColumnSize>();\n\n    width = Math.max(this.getColumnMinWidth(col), Math.min(this.getColumnMaxWidth(col), Math.floor(width)));\n\n    collection.columns.forEach(column => {\n      if (column.key === col) {\n        newWidths.set(column.key, width);\n        freeze = false;\n      } else if (freeze) {\n        // freeze columns to the left to their previous pixel value\n        newWidths.set(column.key, prevColumnWidths.get(column.key) ?? 0);\n      } else {\n        newWidths.set(column.key, column.props.width ?? uncontrolledWidths.get(column.key));\n      }\n    });\n\n    return newWidths;\n  }\n\n  buildColumnWidths(tableWidth: number, collection: TableCollection<T>, widths: Map<Key, ColumnSize>) {\n    this.columnWidths = new Map();\n    this.columnMinWidths = new Map();\n    this.columnMaxWidths = new Map();\n\n    // initial layout or table/window resizing\n    let columnWidths = calculateColumnSizes(\n      tableWidth,\n      collection.columns.map(col => ({...col.props, key: col.key})),\n      widths,\n      (i) => this.getDefaultWidth(collection.columns[i]),\n      (i) => this.getDefaultMinWidth(collection.columns[i])\n    );\n\n    // columns going in will be the same order as the columns coming out\n    columnWidths.forEach((width, index) => {\n      let key = collection.columns[index].key;\n      let column = collection.columns[index];\n      this.columnWidths.set(key, width);\n      this.columnMinWidths.set(key, getMinWidth(column.props.minWidth ?? this.getDefaultMinWidth(column), tableWidth));\n      this.columnMaxWidths.set(key, getMaxWidth(column.props.maxWidth, tableWidth));\n    });\n    return this.columnWidths;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}